(this["webpackJsonpant-admin"]=this["webpackJsonpant-admin"]||[]).push([[31],{533:function(e,t,a){"use strict";a.r(t);var n=a(44),i=a.n(n),c=(a(378),a(172)),r=(a(149),a(53)),s=a(60),l=a(26),u=(a(555),a(556)),o=a(70),d=a(0),j=a(102),b=a(770),p=a(771),h=a(543),O=a(599),m=a(775),x=a(772),f=a(769),g=a(773),w=a(7);t.default=Object(j.a)({path:"/users"})((function(e){var t=Object(d.useState)(!1),a=Object(o.a)(t,2),n=a[0],j=a[1],y=Object(d.useState)(1),v=Object(o.a)(y,2),S=v[0],k=v[1],C=Object(d.useState)(20),I=Object(o.a)(C,2),z=I[0],F=I[1],N=Object(d.useState)({}),T=Object(o.a)(N,2),J=T[0],K=T[1],L=Object(d.useState)([]),P=Object(o.a)(L,2),R=P[0],D=P[1],G=u.a.useForm(),H=Object(o.a)(G,1)[0],U=Object(l.a)(Object(l.a)({},J),{},{pageNum:S,pageSize:z}),q=e.ajax.useGet("/users",U,[J,S,z],{setLoading:j,formatResult:function(e){return{dataSource:(null===e||void 0===e?void 0:e.list)||[],total:(null===e||void 0===e?void 0:e.total)||0}}}).data,A=(q=void 0===q?{}:q).dataSource,B=q.total,E=e.ajax.useDel("/users",null,{setLoading:j,successTip:"\u6279\u91cf\u5220\u9664\u6210\u529f\uff01"}).run,M=[{title:"\u7528\u6237\u540d",dataIndex:"name",width:100},{title:"\u5e74\u9f84",dataIndex:"age",width:100},{title:"\u5de5\u4f5c",dataIndex:"job",width:100},{title:"\u90ae\u7bb1",dataIndex:"email",width:200},{title:"\u7535\u8bdd",dataIndex:"mobile",width:120},{title:"\u5907\u6ce8",dataIndex:"remark"},{title:"\u64cd\u4f5c",dataIndex:"operator",width:100,render:function(t,a){var n=a.id,i=a.name,c=[{label:"\u7f16\u8f91",onClick:function(){return e.history.push("/users/".concat(n,"?name=").concat(i))}},{label:"\u5220\u9664",color:"red",confirm:{title:"\u60a8\u786e\u5b9a\u5220\u9664\u5417\uff1f",onConfirm:function(){return function(e){return Q.apply(this,arguments)}(n)}}}];return Object(w.jsx)(b.a,{items:c})}}];function Q(){return(Q=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({ids:t},{successTip:"\u5220\u9664\u6210\u529f\uff01"});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)(R.length);case 2:return e.next=4,E({ids:R.join(",")});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W={wrapperCol:{style:{width:200}}},X=!(null!==R&&void 0!==R&&R.length);return Object(w.jsxs)(h.a,{loading:n,children:[Object(w.jsx)(O.a,{children:Object(w.jsxs)(u.a,{name:"user",layout:"inline",form:H,onFinish:function(e){return k(1)||K(e)},children:[Object(w.jsx)(m.a,Object(l.a)(Object(l.a)({},W),{},{label:"\u7528\u6237\u540d",name:"name"})),Object(w.jsx)(m.a,Object(l.a)(Object(l.a)({},W),{},{type:"number",label:"\u5e74\u9f84",name:"age"})),Object(w.jsx)(m.a,Object(l.a)(Object(l.a)({},W),{},{type:"select",label:"\u5de5\u4f5c",name:"job",options:[{value:"1",label:"UI\u8bbe\u8ba1\u5e08"},{value:"2",label:"\u524d\u7aef"},{value:"3",label:"\u540e\u7aef"}]})),Object(w.jsx)(m.a,{children:Object(w.jsxs)(c.b,{children:[Object(w.jsx)(r.a,{type:"primary",htmlType:"submit",children:"\u67e5\u8be2"}),Object(w.jsx)(r.a,{onClick:function(){return H.resetFields()},children:"\u91cd\u7f6e"})]})})]})}),Object(w.jsxs)(x.a,{children:[Object(w.jsx)(r.a,{type:"primary",onClick:function(){return e.history.push("/users/:id")},children:"\u6dfb\u52a0"}),Object(w.jsx)(r.a,{danger:!0,disabled:X,onClick:function(){return V.apply(this,arguments)},children:"\u5220\u9664"})]}),Object(w.jsx)(f.a,{rowSelection:{selectedRowKeys:R,onChange:D},fitHeight:!0,dataSource:A,columns:M,rowKey:"id",pagination:!1}),Object(w.jsx)(g.a,{total:B,pageNum:S,pageSize:z,onPageNumChange:k,onPageSizeChange:function(e){return k(1)||F(e)}})]})}))}}]);
//# sourceMappingURL=31.92c8c0a9.chunk.js.map