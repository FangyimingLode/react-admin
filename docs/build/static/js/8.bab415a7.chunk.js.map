{"version":3,"sources":["pages/role/Edit.jsx","pages/menus/MenuSelect.jsx","pages/role/index.jsx","webpack:///./src/pages/menus/style.less?b9e7","pages/menus/style.less","../../ra-lib/packages/components/es/modal-content/index.js","webpack:///./src/pages/role/style.less?a047","pages/role/style.less"],"names":["config","modal","props","isEdit","id","onOk","useState","loading","setLoading","useForm","form","fetchData","ajax","useGet","formatResult","res","setFieldsValue","run","save","usePost","successTip","update","usePut","values","a","console","log","JSON","stringify","useEffect","layout","labelCol","flex","okText","submit","cancelText","onCancel","resetFields","name","onFinish","hidden","initialValue","label","required","noSpace","type","maxLength","index","state","menus","allMenuKeys","expandedRowKeys","columns","title","dataIndex","key","width","render","value","record","target","handleSelect","selected","allKeys","childrenKeys","findGenerationNodes","map","item","parentKeys","concat","filter","includes","reverse","forEach","pId","some","ck","push","onChange","Array","from","Set","handleSelectAll","this","handleSearch","setState","getMenus","then","menuTreeData","convertToTree","finally","others","expandable","onExpandedRowsChange","rowSelection","selectedRowKeys","onSelect","onSelectAll","dataSource","pagination","rowKey","Component","path","pageNum","setPageNum","pageSize","setPageSize","conditions","setConditions","setSelectedRowKeys","selectedMenuKeys","setSelectedMenuKeys","setId","visible","setVisible","selectedRole","setSelectedRole","params","list","total","data","menuLoading","fetchRoleMenus","batchDelete","useDel","text","items","onClick","color","confirm","onConfirm","handleDelete","ids","batchDeleteConfirm","length","join","roleId","disabled","className","styles","root","fitHeight","role","wrapperCol","style","htmlType","danger","onRow","handleClick","rowClassName","selectedRow","tableRow","size","onPageNumChange","onPageSizeChange","getFieldsValue","menu","menuTop","menuContent","offsetHeight","api","content","__esModule","default","module","i","options","exports","locals","___CSS_LOADER_EXPORT___","_extends","Object","assign","arguments","source","prototype","hasOwnProperty","call","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","_slicedToArray","arr","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","ModalContent","forwardRef","_ref","context","useContext","ComponentContext","antdPrefixCls","ConfigContext","getPrefixCls","children","otherHeight","bodyStyle","_props$loadingTip","loadingTip","_props$prefixCls","prefixCls","fullScreen","footer","okHtmlType","_props$okText","_props$cancelText","defaultOtherHeight","rootRef","useRef","height","useHeight","outerStyle","display","flexDirection","React","createElement","spinning","tip","ref","rootDom","current","padding","overflow","Fragment","propTypes","PropTypes","bool","number","any","func","defaultProps"],"mappings":"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","file":"static/js/8.bab415a7.chunk.js","sourcesContent":["import {useEffect, useState} from 'react';\nimport {Form} from 'antd';\nimport config from 'src/commons/config-hoc';\nimport {ModalContent, FormItem} from '@ra-lib/components';\n\nexport default config({\n    modal: props => props.isEdit ? '编辑角色' : '创建角色',\n})(function Edit(props) {\n    const {id, isEdit, onOk} = props;\n    const [loading, setLoading] = useState(false);\n    const [form] = Form.useForm();\n\n    const {run: fetchData} = props.ajax.useGet(`/roles/${id}`, null, {\n        setLoading,\n        formatResult: res => {\n            if (!res) return;\n            form.setFieldsValue(res);\n        },\n    });\n    const {run: save} = props.ajax.usePost('/roles', null, {setLoading, successTip: '创建成功！'});\n    const {run: update} = props.ajax.usePut('/roles', null, {setLoading, successTip: '修改成功！'});\n\n    async function handleSubmit(values) {\n        console.log(JSON.stringify(values, null, 4));\n\n        if (isEdit) {\n            await update(values);\n        } else {\n            await save(values);\n        }\n\n        onOk();\n    }\n\n    useEffect(() => {\n        isEdit && fetchData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const layout = {labelCol: {flex: '100px'}};\n    return (\n        <ModalContent\n            loading={loading}\n            okText=\"保存\"\n            onOk={() => form.submit()}\n            cancelText=\"重置\"\n            onCancel={() => form.resetFields()}\n        >\n            <Form\n                form={form}\n                name=\"roleEdit\"\n                onFinish={handleSubmit}\n            >\n                {isEdit ? <FormItem hidden name=\"id\" initialValue={id}/> : null}\n                <FormItem\n                    {...layout}\n                    label=\"角色名称\"\n                    name=\"name\"\n                    required\n                    noSpace\n                />\n                <FormItem\n                    {...layout}\n                    type=\"textarea\"\n                    label=\"角色描述\"\n                    name=\"description\"\n                    maxLength={50}\n                />\n            </Form>\n        </ModalContent>\n    );\n});\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport config from 'src/commons/config-hoc';\nimport {convertToTree, findGenerationNodes} from '@ra-lib/util';\nimport {Table} from '@ra-lib/components';\nimport getMenus from 'src/menus';\nimport './style.less';\n\n@config({\n    ajax: true,\n})\nexport default class index extends Component {\n    static propTypes = {\n        value: PropTypes.array,     // 选中的节点\n        onChange: PropTypes.func,   // 选择节点时，触发\n    };\n\n    state = {\n        loading: false,\n        menus: [],\n        allMenuKeys: [],\n        expandedRowKeys: [],\n    };\n\n    columns = [\n        {\n            title: '标题', dataIndex: 'title', key: 'title',\n        },\n        {\n            title: '类型', dataIndex: 'type', key: 'type', width: 80,\n            render: (value, record) => {\n                const {target} = record;\n                if (target) return '站外菜单';\n                if (value === '1') return '站内菜单';\n                if (value === '2') return '功能';\n\n                return '菜单';\n            },\n        },\n    ];\n\n    componentDidMount() {\n        this.handleSearch();\n    }\n\n    handleSearch() {\n        this.setState({loading: true});\n        // this.props.ajax\n        //     .get('/menus')\n        getMenus()\n            .then(res => {\n                const menus = res;\n                const allMenuKeys = menus.map(item => item.id);\n                const menuTreeData = convertToTree(menus);\n\n                // 默认展开全部\n                const expandedRowKeys = [...allMenuKeys];\n                this.setState({menus: menuTreeData, allMenuKeys, expandedRowKeys});\n            })\n            .finally(() => this.setState({loading: false}));\n\n    }\n\n    handleSelect = (record, selected) => {\n        const {value = []} = this.props;\n        const {menus} = this.state;\n\n        const {id} = record;\n\n        let allKeys = [...value];\n\n        // 全选 取消 子级\n        const childrenKeys = findGenerationNodes(menus, id).map(item => item.id);\n        const {parentKeys = []} = record;\n        if (selected) {\n            // 子级全部加入\n            allKeys = allKeys.concat(id, ...childrenKeys);\n\n            // 父级状态 全部加入\n            allKeys = allKeys.concat(...parentKeys);\n        } else {\n            // 子级全部删除\n            allKeys = allKeys.filter(item => !(([id, ...childrenKeys]).includes(item)));\n\n            // 判断父级状态 只要有后代选中就加入\n            parentKeys.reverse().forEach(pId => {\n                const cKs = findGenerationNodes(menus, pId).map(item => item.id);\n                const hasChildSelected = cKs.some(ck => allKeys.includes(ck));\n\n                if (hasChildSelected) {\n                    allKeys.push(pId);\n                } else {\n                    allKeys = allKeys.filter(item => item !== pId);\n                }\n            });\n        }\n\n        const {onChange} = this.props;\n\n        onChange && onChange(Array.from(new Set(allKeys)));\n    };\n\n    handleSelectAll = (selected) => {\n        const {allMenuKeys} = this.state;\n        const {onChange} = this.props;\n\n        onChange && onChange(selected ? allMenuKeys : []);\n    };\n\n    render() {\n        const {\n            menus,\n            loading,\n            expandedRowKeys,\n        } = this.state;\n\n        const {value, onChange, ...others} = this.props;\n\n        return (\n            <Table\n                expandable={{\n                    expandedRowKeys: expandedRowKeys,\n                    onExpandedRowsChange: expandedRowKeys => this.setState({expandedRowKeys}),\n                }}\n                rowSelection={{\n                    selectedRowKeys: value,\n                    onSelect: this.handleSelect,\n                    onSelectAll: this.handleSelectAll,\n                }}\n                loading={loading}\n                columns={this.columns}\n                dataSource={menus}\n                pagination={false}\n                rowKey=\"id\"\n                {...others}\n            />\n        );\n    }\n}\n\n","import {useState} from 'react';\nimport config from 'src/commons/config-hoc';\nimport {Button, Form, Space} from 'antd';\nimport {\n    PageContent,\n    QueryBar,\n    FormItem,\n    ToolBar,\n    Table,\n    Pagination,\n    batchDeleteConfirm,\n    Operator,\n} from '@ra-lib/components';\nimport RoleEdit from './Edit';\nimport MenuSelect from 'src/pages/menus/MenuSelect';\nimport styles from './style.less';\n\nexport default config({\n    path: '/roles',\n})(function Role(props) {\n    const [loading, setLoading] = useState(false);\n    const [pageNum, setPageNum] = useState(1);\n    const [pageSize, setPageSize] = useState(20);\n    const [conditions, setConditions] = useState({});\n    const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n    const [selectedMenuKeys, setSelectedMenuKeys] = useState([]);\n    const [id, setId] = useState(null);\n    const [visible, setVisible] = useState(false);\n    const [form] = Form.useForm();\n    const [selectedRole, setSelectedRole] = useState(null);\n\n    const params = {\n        ...conditions,\n        pageNum,\n        pageSize,\n    };\n\n    // 获取角色列表\n    const {\n        data: {\n            dataSource,\n            total,\n        } = {},\n    } = props.ajax.useGet('/roles', params, [conditions, pageNum, pageSize], {\n        setLoading,\n        // mountFire: false, // 初始化不查询\n        formatResult: res => {\n            return {\n                dataSource: res?.list || [],\n                total: res?.total || 0,\n            };\n        },\n    });\n\n    // 获取角色菜单\n    const {loading: menuLoading, run: fetchRoleMenus} = props.ajax.useGet('/roleMenus');\n\n    // 批量删除\n    const {run: batchDelete} = props.ajax.useDel('/roles', null, {setLoading, successTip: '批量删除成功！'});\n\n    const columns = [\n        {title: '角色名', dataIndex: 'name', width: 150},\n        {title: '描述', dataIndex: 'description'},\n        {\n            title: '操作', dataIndex: 'operator', width: 100,\n            render: (text, record) => {\n                const {id} = record;\n                const items = [\n                    {\n                        label: '编辑',\n                        onClick: () => setId(id) || setVisible(true),\n                    },\n                    {\n                        label: '删除',\n                        color: 'red',\n                        confirm: {\n                            title: '您确定删除吗？',\n                            onConfirm: () => handleDelete(id),\n                        },\n                    },\n                ];\n                return <Operator items={items}/>;\n            },\n        },\n    ];\n\n    async function handleDelete(id) {\n        await batchDelete({ids: id}, {successTip: '删除成功！'});\n    }\n\n    async function handleBatchDelete() {\n        await batchDeleteConfirm(selectedRowKeys.length);\n\n        await batchDelete({ids: selectedRowKeys.join(',')});\n    }\n\n    async function handleClick(record) {\n        setSelectedRole(record);\n        const res = await fetchRoleMenus({roleId: record.id});\n        setSelectedMenuKeys(res);\n    }\n\n    const layout = {\n        wrapperCol: {style: {width: 200}},\n    };\n    const disabled = !selectedRowKeys?.length;\n\n    return (\n        <div className={styles.root}>\n            <PageContent fitHeight className={styles.role} loading={loading}>\n                <QueryBar>\n                    <Form\n                        name=\"user\"\n                        layout=\"inline\"\n                        form={form}\n                        onFinish={values => setPageNum(1) || setConditions(values)}\n                    >\n                        <FormItem\n                            {...layout}\n                            label=\"角色名称\"\n                            name=\"name\"\n                        />\n                        <FormItem>\n                            <Space>\n                                <Button type=\"primary\" htmlType=\"submit\">查询</Button>\n                                <Button htmlType=\"reset\">重置</Button>\n                            </Space>\n                        </FormItem>\n                    </Form>\n                </QueryBar>\n                <ToolBar>\n                    <Button type=\"primary\" onClick={() => setId(null) || setVisible(true)}>添加</Button>\n                    <Button danger disabled={disabled} onClick={handleBatchDelete}>删除</Button>\n                </ToolBar>\n                <Table\n                    rowSelection={{selectedRowKeys, onChange: setSelectedRowKeys}}\n                    fitHeight\n                    dataSource={dataSource}\n                    columns={columns}\n                    rowKey=\"id\"\n                    pagination={false}\n                    onRow={record => {\n                        return {\n                            onClick: () => handleClick(record),\n                        };\n                    }}\n                    rowClassName={record => selectedRole?.id === record.id ? styles.selectedRow : styles.tableRow}\n                />\n                <Pagination\n                    size=\"small\"\n                    total={total}\n                    pageNum={pageNum}\n                    pageSize={pageSize}\n                    onPageNumChange={setPageNum}\n                    onPageSizeChange={pageSize => setPageNum(1) || setPageSize(pageSize)}\n                />\n                <RoleEdit\n                    visible={visible}\n                    isEdit={!!id}\n                    id={id}\n                    onOk={() => setVisible(false) || setConditions(form.getFieldsValue())}\n                    onCancel={() => setVisible(false)}\n                />\n            </PageContent>\n            <div className={styles.menu}>\n                <Space className={styles.menuTop}>\n                    <div>当前选中：{selectedRole?.name}</div>\n                    <Button type=\"primary\" disabled={!selectedRole}>保存</Button>\n                </Space>\n                <div className={styles.menuContent}>\n                    <MenuSelect\n                        loading={menuLoading}\n                        fitHeight\n                        offsetHeight={-8}\n                        value={selectedMenuKeys}\n                        onChange={selectedMenuKeys => setSelectedMenuKeys(selectedMenuKeys)}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n});\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-10-1!../../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-10-2!./style.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".root_1lXHi {\\n  display: flex;\\n}\\n.menu_ERmcs {\\n  flex: 0 0 210px;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.menu_ERmcs .menuTop_17CH7 {\\n  flex: 0 0 50px;\\n  display: flex;\\n  align-items: center;\\n  border-bottom: 1px solid #e8e8e8;\\n}\\n.menu_ERmcs .menuContent_ko9de {\\n  flex: 1;\\n  overflow: auto;\\n}\\n.edit_2vHXt {\\n  flex: 1;\\n  overflow: auto;\\n  padding: 0 32px;\\n  border-left: 1px solid #e8e8e8;\\n  border-right: 1px solid #e8e8e8;\\n}\\n.edit_2vHXt h2 {\\n  text-align: center;\\n  padding: 8px;\\n}\\n.action_12t5u {\\n  flex: 1;\\n  overflow: auto;\\n  padding: 0 32px;\\n}\\n.action_12t5u h2 {\\n  text-align: center;\\n  padding: 8px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/pages/menus/style.less\"],\"names\":[],\"mappings\":\"AAAA;EACI,aAAA;AACJ;AAGA;EACI,eAAA;EACA,aAAA;EACA,sBAAA;AADJ;AAFA;EAMQ,cAAA;EACA,aAAA;EACA,mBAAA;EACA,gCAAA;AADR;AARA;EAaQ,OAAA;EACA,cAAA;AAFR;AAMA;EACI,OAAA;EACA,cAAA;EACA,eAAA;EACA,8BAAA;EACA,+BAAA;AAJJ;AADA;EAQQ,kBAAA;EACA,YAAA;AAJR;AASA;EACI,OAAA;EACA,cAAA;EACA,eAAA;AAPJ;AAIA;EAMQ,kBAAA;EACA,YAAA;AAPR\",\"sourcesContent\":[\".root {\\n    display: flex;\\n\\n}\\n\\n.menu {\\n    flex: 0 0 210px;\\n    display: flex;\\n    flex-direction: column;\\n\\n    .menuTop {\\n        flex: 0 0 50px;\\n        display: flex;\\n        align-items: center;\\n        border-bottom: 1px solid #e8e8e8;\\n    }\\n\\n    .menuContent {\\n        flex: 1;\\n        overflow: auto;\\n    }\\n}\\n\\n.edit {\\n    flex: 1;\\n    overflow: auto;\\n    padding: 0 32px;\\n    border-left: 1px solid #e8e8e8;\\n    border-right: 1px solid #e8e8e8;\\n\\n    h2 {\\n        text-align: center;\\n        padding: 8px;\\n    }\\n\\n}\\n\\n.action {\\n    flex: 1;\\n    overflow: auto;\\n    padding: 0 32px;\\n\\n    h2 {\\n        text-align: center;\\n        padding: 8px;\\n    }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"root\": \"root_1lXHi\",\n\t\"menu\": \"menu_ERmcs\",\n\t\"menuTop\": \"menuTop_17CH7\",\n\t\"menuContent\": \"menuContent_ko9de\",\n\t\"edit\": \"edit_2vHXt\",\n\t\"action\": \"action_12t5u\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Spin, ConfigProvider } from 'antd';\nimport ComponentContext from '../component-context';\nimport { useHeight } from '@ra-lib/hooks';\nvar ModalContent = /*#__PURE__*/forwardRef(function (props, _ref) {\n  var context = useContext(ComponentContext);\n  var antdContext = useContext(ConfigProvider.ConfigContext);\n  var antdPrefixCls = antdContext.getPrefixCls();\n\n  var children = props.children,\n      fitHeight = props.fitHeight,\n      otherHeight = props.otherHeight,\n      style = props.style,\n      bodyStyle = props.bodyStyle,\n      loading = props.loading,\n      _props$loadingTip = props.loadingTip,\n      loadingTip = _props$loadingTip === void 0 ? context.loadingTip : _props$loadingTip,\n      _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? context.prefixCls : _props$prefixCls,\n      fullScreen = props.fullScreen,\n      footer = props.footer,\n      okHtmlType = props.okHtmlType,\n      _props$okText = props.okText,\n      okText = _props$okText === void 0 ? context.okText : _props$okText,\n      _props$cancelText = props.cancelText,\n      cancelText = _props$cancelText === void 0 ? context.cancelText : _props$cancelText,\n      onOk = props.onOk,\n      onCancel = props.onCancel,\n      others = _objectWithoutProperties(props, [\"children\", \"fitHeight\", \"otherHeight\", \"style\", \"bodyStyle\", \"loading\", \"loadingTip\", \"prefixCls\", \"fullScreen\", \"footer\", \"okHtmlType\", \"okText\", \"cancelText\", \"onOk\", \"onCancel\"]);\n\n  var defaultOtherHeight = 50;\n\n  if (fullScreen) {\n    defaultOtherHeight = 0;\n    fitHeight = true;\n  }\n\n  var rootRef = useRef(null);\n\n  var _useHeight = useHeight(rootRef, otherHeight || defaultOtherHeight),\n      _useHeight2 = _slicedToArray(_useHeight, 1),\n      height = _useHeight2[0];\n\n  var outerStyle = _objectSpread({\n    display: 'flex',\n    flexDirection: 'column',\n    height: fitHeight ? height : 'auto'\n  }, style);\n\n  return /*#__PURE__*/React.createElement(Spin, {\n    spinning: loading,\n    tip: loadingTip\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: \"\".concat(prefixCls, \"-modal-content\"),\n    ref: function ref(rootDom) {\n      rootRef.current = rootDom;\n      if (_ref) _ref.current = rootDom;\n    },\n    style: outerStyle\n  }, others), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-modal-content-inner\"),\n    style: _objectSpread({\n      flex: 1,\n      padding: 16,\n      overflow: fitHeight || fullScreen ? 'auto' : ''\n    }, bodyStyle)\n  }, children), footer !== false ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(antdPrefixCls, \"-modal-footer\"),\n    style: {\n      flex: 0\n    }\n  }, footer ? footer : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    onClick: onOk,\n    htmlType: okHtmlType\n  }, okText), /*#__PURE__*/React.createElement(Button, {\n    onClick: onCancel\n  }, cancelText))) : null));\n});\nModalContent.propTypes = {\n  // 是否全屏\n  fullScreen: PropTypes.bool,\n  // 是否使用屏幕剩余空间\n  fitHeight: PropTypes.bool,\n  // 除了主体内容之外的其他高度，用于计算主体高度；\n  otherHeight: PropTypes.number,\n  // 是否加载中\n  loading: PropTypes.bool,\n  // 加载中提示文案\n  loadingTip: PropTypes.any,\n  // 底部 默认 确定、取消\n  footer: PropTypes.any,\n  // 确定按钮类型\n  okHtmlType: PropTypes.any,\n  // 确定按钮文案\n  okText: PropTypes.any,\n  // 确定事件\n  onOk: PropTypes.func,\n  // 取消按钮文案\n  cancelText: PropTypes.any,\n  // 取消事件\n  onCancel: PropTypes.func,\n  // 最外层容器样式\n  style: PropTypes.object,\n  // 内容容器样式\n  bodyStyle: PropTypes.object\n};\nModalContent.defaultProps = {\n  loading: false,\n  style: {},\n  bodyStyle: {},\n  fitHeight: false,\n  okHtmlType: '',\n  onOk: function onOk() {\n    return void 0;\n  },\n  onCancel: function onCancel() {\n    return void 0;\n  }\n};\nexport default ModalContent;","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-10-1!../../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-10-2!./style.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".root_1ogAA {\\n  display: flex;\\n}\\n.role_10A5n {\\n  flex: 3;\\n  padding: 8px;\\n}\\n.tableRow_3frRV,\\n.selectedRow_2tWr_ {\\n  cursor: pointer;\\n}\\n.selectedRow_2tWr_,\\n.selectedRow_2tWr_:hover td {\\n  background: #e8e8e8 !important;\\n}\\n.menu_31K2k {\\n  flex: 2;\\n  margin-top: 8px;\\n  margin-right: 8px;\\n  margin-bottom: 8px;\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n}\\n.menuTop_3TJsl {\\n  flex: 0 0 48px;\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n  padding: 8px;\\n  margin-bottom: 8px;\\n  background: #fff;\\n}\\n.menuContent_IDFBR {\\n  flex: 1;\\n  overflow: auto;\\n  background: #fff;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/pages/role/style.less\"],\"names\":[],\"mappings\":\"AAAA;EACI,aAAA;AACJ;AAEA;EACI,OAAA;EACA,YAAA;AAAJ;AAGA;;EAEI,eAAA;AADJ;AAIA;;EAEI,8BAAA;AAFJ;AAKA;EACI,OAAA;EACA,eAAA;EACA,iBAAA;EACA,kBAAA;EACA,aAAA;EACA,sBAAA;EACA,YAAA;AAHJ;AAMA;EACI,cAAA;EACA,aAAA;EACA,yBAAA;EACA,mBAAA;EACA,YAAA;EACA,kBAAA;EACA,gBAAA;AAJJ;AAOA;EACI,OAAA;EACA,cAAA;EACA,gBAAA;AALJ\",\"sourcesContent\":[\".root {\\n    display: flex;\\n}\\n\\n.role {\\n    flex: 3;\\n    padding: 8px;\\n}\\n\\n.tableRow,\\n.selectedRow {\\n    cursor: pointer;\\n}\\n\\n.selectedRow,\\n.selectedRow:hover td {\\n    background: #e8e8e8 !important;\\n}\\n\\n.menu {\\n    flex: 2;\\n    margin-top: 8px;\\n    margin-right: 8px;\\n    margin-bottom: 8px;\\n    display: flex;\\n    flex-direction: column;\\n    height: 100%;\\n}\\n\\n.menuTop {\\n    flex: 0 0 48px;\\n    display: flex;\\n    justify-content: flex-end;\\n    align-items: center;\\n    padding: 8px;\\n    margin-bottom: 8px;\\n    background: #fff;\\n}\\n\\n.menuContent {\\n    flex: 1;\\n    overflow: auto;\\n    background: #fff;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"root\": \"root_1ogAA\",\n\t\"role\": \"role_10A5n\",\n\t\"tableRow\": \"tableRow_3frRV\",\n\t\"selectedRow\": \"selectedRow_2tWr_\",\n\t\"menu\": \"menu_31K2k\",\n\t\"menuTop\": \"menuTop_3TJsl\",\n\t\"menuContent\": \"menuContent_IDFBR\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n"],"sourceRoot":""}