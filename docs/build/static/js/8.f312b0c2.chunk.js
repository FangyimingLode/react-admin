(this["webpackJsonp_react-admin"]=this["webpackJsonp_react-admin"]||[]).push([[8],{1075:function(e,n,t){"use strict";t.r(n);var a=t(83),r=t.n(a)()(!0);r.push([e.i,".menuRoot_2P-EX {\n  display: flex;\n}\n.menu_ERmcs {\n  flex: 0 0 210px;\n  display: flex;\n  flex-direction: column;\n  border-right: 1px solid #d9d9d9;\n}\n.menu_ERmcs .menuTop_17CH7 {\n  padding: 8px;\n  margin-right: 8px;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #d9d9d9;\n}\n.menu_ERmcs .menuContent_ko9de {\n  flex: 1;\n  overflow: auto;\n}\n.pane_2-ul6 {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  border-right: 1px solid #d9d9d9;\n}\n.title_2SONm {\n  flex: 0 0 40px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-top: 8px;\n}\n.content_2wXZi {\n  flex: 1;\n  overflow: auto;\n  padding: 8px 32px;\n}\n.footerAction_3DfR_ {\n  flex: 0 0 50px;\n  justify-content: flex-end;\n  border-top: 1px solid #d9d9d9;\n  padding: 0 10px;\n  margin: 0 8px;\n}\n.ant-react-admin-menu-submenu {\n  position: relative;\n}\n.ant-react-admin-menu-submenu:after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 44px;\n  border-right: 3px solid #1890ff;\n  transform: scaleY(0.0001);\n  opacity: 0;\n  transition: transform 0.15s cubic-bezier(0.215, 0.61, 0.355, 1), opacity 0.15s cubic-bezier(0.215, 0.61, 0.355, 1);\n  content: '';\n}\n.ant-react-admin-menu-submenu.ant-react-admin-menu-item-selected:after {\n  opacity: 1;\n  transform: scaleY(1);\n}\n","",{version:3,sources:["webpack://src/pages/menus/style.less"],names:[],mappings:"AAEA;EACI,aAAA;AAGJ;AAAA;EACI,eAAA;EACA,aAAA;EACA,sBAAA;EACA,+BAAA;AAEJ;AANA;EAOQ,YAAA;EACA,iBAAA;EACA,aAAA;EACA,mBAAA;EACA,gCAAA;AAER;AAbA;EAeQ,OAAA;EACA,cAAA;AACR;AAGA;EACI,OAAA;EACA,aAAA;EACA,sBAAA;EACA,+BAAA;AADJ;AAIA;EACI,cAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,gBAAA;AAFJ;AAKA;EACI,OAAA;EACA,cAAA;EACA,iBAAA;AAHJ;AAMA;EACI,cAAA;EACA,yBAAA;EACA,6BAAA;EACA,eAAA;EACA,aAAA;AAJJ;AAOA;EAEQ,kBAAA;AANR;AAQQ;EACI,kBAAA;EACA,MAAA;EACA,QAAA;EACA,YAAA;EACA,+BAAA;EACA,yBAAA;EACA,UAAA;EACA,kHAAA;EACA,WAAA;AANZ;AAPA;EAkBQ,UAAA;EACA,oBAAA;AARR",sourcesContent:["@import \"src/theme\";\n\n.menuRoot {\n    display: flex;\n}\n\n.menu {\n    flex: 0 0 210px;\n    display: flex;\n    flex-direction: column;\n    border-right: 1px solid @border-color-base;\n\n    .menuTop {\n        padding: 8px;\n        margin-right: 8px;\n        display: flex;\n        align-items: center;\n        border-bottom: 1px solid @border-color-base;\n    }\n\n    .menuContent {\n        flex: 1;\n        overflow: auto;\n    }\n}\n\n.pane {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    border-right: 1px solid @border-color-base;\n}\n\n.title {\n    flex: 0 0 40px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-top: 8px;\n}\n\n.content {\n    flex: 1;\n    overflow: auto;\n    padding: 8px 32px;\n}\n\n.footerAction {\n    flex: 0 0 50px;\n    justify-content: flex-end;\n    border-top: 1px solid @border-color-base;\n    padding: 0 10px;\n    margin: 0 8px;\n}\n\n:global {\n    .@{ant-prefix}-menu-submenu {\n        position: relative;\n\n        &:after {\n            position: absolute;\n            top: 0;\n            right: 0;\n            height: 44px;\n            border-right: 3px solid @primary-color;\n            transform: scaleY(0.0001);\n            opacity: 0;\n            transition: transform 0.15s cubic-bezier(0.215, 0.61, 0.355, 1), opacity 0.15s cubic-bezier(0.215, 0.61, 0.355, 1);\n            content: '';\n        }\n    }\n\n    .@{ant-prefix}-menu-submenu.@{ant-prefix}-menu-item-selected:after {\n        opacity: 1;\n        transform: scaleY(1);\n    }\n}\n\n@packageName: react-admin;"],sourceRoot:""}]),r.locals={antPrefix:"ant-react-admin",raLibPrefix:"ra-lib-react-admin",menuRoot:"menuRoot_2P-EX",menu:"menu_ERmcs",menuTop:"menuTop_17CH7",menuContent:"menuContent_ko9de",pane:"pane_2-ul6",title:"title_2SONm",content:"content_2wXZi",footerAction:"footerAction_3DfR_"},n.default=r},934:function(e,n,t){"use strict";t.r(n);t(487);var a=t(119),r=(t(337),t(193)),c=(t(191),t(65)),i=(t(194),t(52)),o=t(5),s=t.n(o),l=t(10),u=t(24),d=t(50),p=t(0),b=t.n(p),A=(t(343),t(233)),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},m=t(56),j=function(e,n){return p.createElement(m.a,Object.assign({},e,{ref:n,icon:f}))};j.displayName="QuestionCircleOutlined";var x=p.forwardRef(j);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){y(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function g(e,n,t,a,r,c,i){try{var o=e[c](i),s=o.value}catch(l){return void t(l)}o.done?n(s):Promise.resolve(s).then(a,r)}var C=function(){var e,n=(e=s.a.mark((function e(n){var t,a,r,c,i,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"===typeof n&&(n={content:n}),a=(t=n).title,r=void 0===a?"\u6e29\u99a8\u63d0\u793a":a,c=t.content,i=t.color,o=void 0===i?"red":i,l=v(t,["title","content","color"]),e.abrupt("return",new Promise((function(e,n){A.a.confirm(h({icon:b.a.createElement(x,null),title:r,content:b.a.createElement("div",{style:{marginTop:8,fontSize:14,color:o}},c),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){return e()},onCancel:function(){return n("confirm cancel")}},l))})));case 3:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(a,r){var c=e.apply(n,t);function i(e){g(c,a,r,i,o,"next",e)}function o(e){g(c,a,r,i,o,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}(),E=t(329),k=t(27),w=t(192),P=(t(986),t(989)),N=(t(954),t(955)),I=(t(490),t(327)),S=t(1014),_=t.n(S),B=t(462),R=t(1102),T=t(195),M=t(134),V=t(988),z=t.n(V),F=t(8),D=I.a.TabPane,Q=Object(w.a)()((function(e){var n=e.isAdd,t=e.selectedMenu,a=e.onSubmit,i=e.onValuesChange,o=N.a.useForm(),b=Object(d.a)(o,1)[0],f=Object(p.useState)(!1),m=Object(d.a)(f,2),j=m[0],x=m[1],O=Object(p.useState)("1"),h=Object(d.a)(O,2),y=h[0],v=h[1],g=Object(T.b)(null,285),C=Object(d.a)(g,1)[0],E=Object(p.useRef)(null),k=t&&Object.keys(t).length,w=n&&!k,S=n&&k,V=w?"\u6dfb\u52a0\u9876\u7ea7":S?"\u6dfb\u52a0\u5b50\u7ea7":"\u4fee\u6539\u83dc\u5355",Q=e.ajax.useDel("/menus/:id",null,{setLoading:x}).run,q=e.ajax.usePost("/menus",null,{setLoading:x}).run,J=e.ajax.usePost("/branchMenus",null,{setLoading:x}).run,L=e.ajax.usePut("/menus",null,{setLoading:x}).run,U=e.ajax.useGet("/menuByName").run;function K(){return(K=Object(l.a)(s.a.mark((function e(t){var r,c,i,o,l,d,p,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=2;break}return e.abrupt("return");case 2:if(r=Object(u.a)(Object(u.a)({},t),{},{type:1}),!n){e.next=28;break}if(!S||"2"!==y){e.next=21;break}c=t.menus,i=t.parentId,e.prev=6,c=_.a.parse(c),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(6),e.abrupt("return",A.a.error({title:"\u6e29\u99a8\u63d0\u793a",content:"\u6279\u91cf\u6dfb\u52a0\u7684\u83dc\u5355\u6570\u636e\u6709\u8bef\uff0c\u8bf7\u4fee\u6b63\u540e\u4fdd\u5b58\uff01"}));case 13:return o={menus:c,parentId:i},e.next=16,J(o);case 16:l=e.sent,d=l.id,a&&a({id:d,isAdd:!0}),e.next=26;break;case 21:return e.next=23,q(r);case 23:p=e.sent,b=p.id,a&&a(Object(u.a)(Object(u.a)({},r),{},{id:b,isAdd:!0}));case 26:e.next=31;break;case 28:return e.next=30,L(r);case 30:a&&a(Object(u.a)(Object(u.a)({},r),{},{isUpdate:!0}));case 31:case"end":return e.stop()}}),e,null,[[6,10]])})))).apply(this,arguments)}Object(p.useEffect)((function(){b.resetFields();var e=t;w&&(e={target:M.a.QIANKUN}),S&&(e={target:M.a.MENU,parentId:t.id,systemId:t.systemId}),b.setFieldsValue(e)}),[b,n,w,S,t]);var H=Object(T.a)(function(){var e=Object(l.a)(s.a.mark((function e(t,a){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,U({name:a});case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return");case 7:if(c=b.getFieldValue("id"),!n||r.name!==a){e.next=10;break}throw Error("\u6ce8\u518c\u540d\u79f0\u4e0d\u80fd\u91cd\u590d\uff01");case 10:if(n||r.id===c||r.name!==a){e.next=12;break}throw Error("\u6ce8\u518c\u540d\u79f0\u4e0d\u80fd\u91cd\u590d\uff01");case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());function Y(){return(Y=Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===t||void 0===t?void 0:t.id,e.next=3,Q({id:n});case 3:a&&a({id:n,isDelete:!0});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G={labelCol:{flex:"100px"}};return Object(F.jsxs)(N.a,{className:z.a.pane,name:"menu-form",form:b,onFinish:function(e){return K.apply(this,arguments)},onValuesChange:i,children:[Object(F.jsx)("h3",{className:z.a.title,children:V}),Object(F.jsxs)(B.a,{ref:E,loading:j,className:z.a.content,children:[S?Object(F.jsxs)(I.a,{activeKey:y,onChange:function(e){return v(e)},children:[Object(F.jsx)(D,{tab:"\u5355\u4e2a\u6dfb\u52a0"},"1"),Object(F.jsx)(D,{tab:"\u6279\u91cf\u6dfb\u52a0"},"2")]}):null,Object(F.jsx)(R.a,{name:"id",hidden:!0}),Object(F.jsx)(R.a,{name:"parentId",hidden:!0}),"1"===y?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(R.a,Object(u.a)(Object(u.a)({},G),{},{label:"\u7c7b\u578b",type:"select",name:"target",options:M.a,tooltip:"\u6307\u5b9a\u7c7b\u578b\u4e4b\u540e\uff0c\u5c06\u4ee5\u4e7e\u5764\u5b50\u9879\u76ee\u6216\u7b2c\u4e09\u65b9\u7f51\u7ad9\u65b9\u5f0f\u6253\u5f00",required:!0,getPopupContainer:function(){return E.current}})),Object(F.jsx)(R.a,Object(u.a)(Object(u.a)({},G),{},{label:"\u6807\u9898",name:"title",required:!0,tooltip:"\u83dc\u5355\u6807\u9898"})),Object(F.jsx)(R.a,{shouldUpdate:!0,noStyle:!0,children:function(e){return(0,e.getFieldValue)("target")===M.a.QIANKUN?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(R.a,Object(u.a)(Object(u.a)({},G),{},{label:"\u6ce8\u518c\u540d\u79f0",tooltip:"\u8981\u4e0e\u5b50\u5e94\u7528package.json\u4e2d\u58f0\u660e\u7684name\u5c5e\u6027\u76f8\u540c\uff0c\u552f\u4e00\u4e0d\u53ef\u91cd\u590d",name:"name",rules:[{validator:H},{pattern:/^[0-9A-Za-z_-]+$/,message:"\u53ea\u5141\u8bb8\u82f1\u6587\u5927\u5c0f\u5199\u3001_\u3001-\uff01"}],required:!0})),Object(F.jsx)(R.a,Object(u.a)(Object(u.a)({},G),{},{label:"\u5165\u53e3\u5730\u5740",tooltip:"http(s)\u5f00\u5934\u7684\u7f51\u5740",name:"entry",rules:[{validator:function(e,n){return n&&!n.startsWith("http")?Promise.reject("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5165\u53e3\u5730\u5740\uff01"):Promise.resolve()}}],noSpace:!0,required:!0}))]}):Object(F.jsx)(R.a,Object(u.a)(Object(u.a)({},G),{},{label:"\u57fa\u7840\u8def\u5f84",name:"basePath",tooltip:"\u6240\u6709\u5176\u5b50\u83dc\u5355\u8def\u5f84\u5c06\u4ee5\u6b64\u4e3a\u524d\u7f00"}))}}),Object(F.jsx)(R.a,Object(u.a)(Object(u.a)({},G),{},{label:"\u8def\u5f84",name:"path",tooltip:"\u83dc\u5355\u8def\u5f84\u6216\u7b2c\u4e09\u65b9\u7f51\u7ad9\u5730\u5740"})),Object(F.jsx)(R.a,Object(u.a)(Object(u.a)({},G),{},{type:"number",label:"\u6392\u5e8f",name:"order",tooltip:"\u964d\u5e8f\uff0c\u8d8a\u5927\u8d8a\u9760\u524d"}))]}):Object(F.jsx)(R.a,{labelCol:{flex:0},type:"textarea",name:"menus",rows:16,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u83dc\u5355\u6570\u636e\uff01"}],style:{height:C},placeholder:"\u6279\u91cf\u6dfb\u52a0\u5b50\u83dc\u5355\uff0c\u7ed3\u6784\u5982\u4e0b\uff1a\n[\n    {id: 'system', title: '\u7cfb\u7edf\u7ba1\u7406', order: 900},\n    {id: 'user', parentId: 'system', title: '\u7528\u6237\u7ba1\u7406', path: '/users', order: 900},\n    {id: 'menus', parentId: 'system', title: '\u83dc\u5355\u7ba1\u7406', path: '/menus', order: 900},\n    {id: 'role', parentId: 'system', title: '\u89d2\u8272\u7ba1\u7406', path: '/roles', order: 900},\n    {\n        id: 'demo', parentId: 'system', title: '\u6d4b\u8bd5\u5b50\u5e94\u7528',\n        target: 'qiankun',\n\n        name: 'react-admin',\n        entry: 'http://localhost:3000',\n\n        order: 850,\n    },\n]\n                            "})]}),Object(F.jsxs)(r.b,{className:z.a.footerAction,children:[n?null:Object(F.jsx)(P.a,{title:"\u60a8\u786e\u5b9a\u5220\u9664\u300c".concat(null===t||void 0===t?void 0:t.title,"\u300d\uff1f"),onConfirm:function(){return Y.apply(this,arguments)},children:Object(F.jsx)(c.a,{loading:j,danger:!0,children:"\u5220\u9664"})}),Object(F.jsx)(c.a,{loading:j,type:"primary",htmlType:"submit",children:"\u4fdd\u5b58"})]})]})})),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},J=t(15),L=function(e,n){return p.createElement(J.a,Object.assign({},e,{ref:n,icon:q}))};L.displayName="MinusCircleOutlined";var U=p.forwardRef(L),K=t(484),H=Object(w.a)()((function(e){var n=N.a.useForm(),t=Object(d.a)(n,1)[0],i=e.isAdd,o=e.selectedMenu,u=e.onSubmit,b=e.onValuesChange,A=Object(p.useState)(!1),f=Object(d.a)(A,2),m=f[0],j=f[1],x=e.ajax.usePost("/actions",null,{setLoading:j,successTip:"\u529f\u80fd\u4fdd\u5b58\u6210\u529f\uff01"}).run;function O(){return(O=Object(l.a)(s.a.mark((function e(n){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.actions,a=null===o||void 0===o?void 0:o.id,e.next=4,x({actions:t,parentId:a});case 4:u&&u(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.useEffect)((function(){t.resetFields(),o&&t.setFieldsValue({actions:null===o||void 0===o?void 0:o.actions})}),[o,t]),Object(F.jsxs)(N.a,{className:z.a.pane,name:"action-form",form:t,onFinish:function(e){return O.apply(this,arguments)},onValuesChange:b,children:[Object(F.jsx)("h3",{className:z.a.title,children:"\u529f\u80fd\u5217\u8868"}),Object(F.jsx)(B.a,{loading:m,className:z.a.content,children:i?Object(F.jsx)(a.a,{style:{marginTop:50},description:"\u8bf7\u9009\u62e9\u6216\u4fdd\u5b58\u65b0\u589e\u83dc\u5355"}):Object(F.jsx)(N.a.List,{name:"actions",children:function(e,n){var t=n.add,a=n.remove;return Object(F.jsxs)(F.Fragment,{children:[e.map((function(e){var n=e.key,t=e.name;return Object(F.jsxs)(r.b,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(F.jsx)(R.a,{hidden:!0,name:[t,"id"]}),Object(F.jsx)(R.a,{name:[t,"title"],placeholder:"\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0\uff01"}]}),Object(F.jsx)(R.a,{name:[t,"code"],placeholder:"\u7f16\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7f16\u7801\uff01"}]}),Object(F.jsx)(U,{style:{color:"red"},onClick:function(){return a(t)}})]},n)})),Object(F.jsx)(R.a,{children:Object(F.jsx)(c.a,{type:"dashed",onClick:function(){return t()},block:!0,icon:Object(F.jsx)(K.a,{}),children:"\u65b0\u589e\u7f16\u7801"})})]})}})}),Object(F.jsx)(r.b,{className:z.a.footerAction,children:Object(F.jsx)(c.a,{loading:m,disabled:i,type:"primary",htmlType:"submit",children:"\u4fdd\u5b58"})})]})})),Y=t(258),G=t.n(Y);n.default=Object(w.a)({path:"/menus"})((function(e){var n=Object(p.useState)(!0),t=Object(d.a)(n,2),o=t[0],b=t[1],A=Object(p.useState)(null),f=Object(d.a)(A,2),m=f[0],j=f[1],x=Object(p.useState)(!1),O=Object(d.a)(x,2),h=O[0],y=O[1],v=Object(p.useState)(!1),g=Object(d.a)(v,2),w=g[0],P=g[1],N=e.ajax.useGet("/menus",null,{formatResult:function(e){return(e||[]).map((function(e,n,t){var a=t.filter((function(n){return 2===n.type&&n.parentId===e.id}));return Object(u.a)(Object(u.a)({},e),{},{id:""+e.id,parentId:""+e.parentId,actions:a})})).filter((function(e){return 1===e.type}))}}),I=N.loading,S=N.data,_=void 0===S?[]:S,B=N.run;function R(e){return T.apply(this,arguments)}function T(){return(T=Object(l.a)(s.a.mark((function e(n){var t,a,r,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.key,!(a=!(c.length>1&&void 0!==c[1])||c[1])||!h){e.next=5;break}return e.next=5,C("\u83dc\u5355\u6709\u672a\u4fdd\u5b58\u6570\u636e\uff0c\u662f\u5426\u653e\u5f03\uff1f");case 5:if(!a||!w){e.next=8;break}return e.next=8,C("\u529f\u80fd\u5217\u8868\u6709\u672a\u4fdd\u5b58\u6570\u636e\uff0c\u662f\u5426\u653e\u5f03\uff1f");case 8:y(!1),P(!1),r=_.find((function(e){return e.id===t})),j(r),b(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=Object(p.useMemo)((function(){var e=Object(k.c)(Object(k.o)(_,(function(e,n){return n.order-e.order})));return[function e(n){return n.map((function(n){var t=n.id,a=n.icon,r=n.title,c=n.children;return c&&c.length?Object(F.jsx)(i.a.SubMenu,{title:Object(F.jsx)("span",{style:{display:"inline-block",height:"100%"},onClick:function(){var e=Object(l.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),e.next=3,R({key:t});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:r}),icon:a,className:(null===m||void 0===m?void 0:m.id)===t?"".concat(G.a.antPrefix,"-menu-item-selected"):"","data-menu":n,children:e(c)},t):Object(F.jsx)(i.a.Item,{icon:a,"data-menu":n,children:r},t)}))}(e),e]}),[_,m,h]),V=Object(d.a)(M,2),D=V[0],q=V[1];function J(){return(J=Object(l.a)(s.a.mark((function e(n){var t,a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!1),t=n.isAdd,a=n.isDelete,n.isUpdate,r=n.id,e.next=4,B();case 4:if(t&&j(Object(u.a)({},m)),!a){e.next=15;break}if(!(c=Object(k.f)(q,r))){e.next=13;break}return e.next=11,R({key:c.id},!1);case 11:e.next=15;break;case 13:j({}),b(!0);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!1),e.next=3,B();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.useEffect)((function(){Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:case"end":return e.stop()}}),e)})))()}),[]),Object(F.jsxs)(E.a,{loading:I,fitHeight:!0,className:z.a.menuRoot,children:[Object(F.jsxs)("div",{className:z.a.menu,children:[Object(F.jsxs)(r.b,{className:z.a.menuTop,children:[Object(F.jsx)(c.a,{type:"primary",onClick:function(){b(!0),j(null)},children:"\u6dfb\u52a0\u9876\u7ea7"}),Object(F.jsx)(c.a,{disabled:!m,type:"primary",onClick:function(){return b(!0)},children:"\u6dfb\u52a0\u5b50\u7ea7"})]}),Object(F.jsx)("div",{className:z.a.menuContent,children:null!==_&&void 0!==_&&_.length?Object(F.jsx)(i.a,{mode:"inline",selectable:!0,selectedKeys:[null===m||void 0===m?void 0:m.id],onClick:function(e){return R(e)},children:D}):Object(F.jsx)(a.a,{style:{marginTop:58},description:"\u6682\u65e0\u6570\u636e"})})]}),Object(F.jsx)(Q,{isAdd:o,selectedMenu:m,onSubmit:function(e){return J.apply(this,arguments)},onValuesChange:function(){return y(!0)}}),Object(F.jsx)(H,{isAdd:o,selectedMenu:m,onValuesChange:function(){return P(!0)},onSubmit:function(){return L.apply(this,arguments)}})]})}))},986:function(e,n,t){"use strict";t(49),t(489),t(191),t(987)},987:function(e,n,t){},988:function(e,n,t){var a=t(140),r=t(1075);"string"===typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};a(r,c);e.exports=r.locals||{}},989:function(e,n,t){"use strict";var a=t(1),r=t(6),c=t(0),i=t(3),o=t.n(i),s=t(125),l=t(198),u=t(30),d=t(142),p=t(65),b=t(150),A=t(106),f=t(126),m=t(133),j=t(290),x=t(19),O=t(84),h=void 0,y=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},v=c.forwardRef((function(e,n){var t=Object(s.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),i=Object(r.a)(t,2),l=i[0],v=i[1],g=function(n,t){var a;v(n),null===(a=e.onVisibleChange)||void 0===a||a.call(e,n,t)},C=function(n){var t;g(!1,n),null===(t=e.onConfirm)||void 0===t||t.call(h,n)},E=function(n){var t;g(!1,n),null===(t=e.onCancel)||void 0===t||t.call(h,n)},k=c.useContext(m.b).getPrefixCls,w=e.prefixCls,P=e.placement,N=e.children,I=e.overlayClassName,S=y(e,["prefixCls","placement","children","overlayClassName"]),_=k("popover",w),B=k("popconfirm",w),R=o()(B,I),T=c.createElement(A.a,{componentName:"Popconfirm",defaultLocale:f.a.Popconfirm},(function(n){return function(n,t){var r=e.okButtonProps,i=e.cancelButtonProps,o=e.title,s=e.cancelText,l=e.okText,u=e.okType,d=e.icon;return c.createElement("div",{className:"".concat(n,"-inner-content")},c.createElement("div",{className:"".concat(n,"-message")},d,c.createElement("div",{className:"".concat(n,"-message-title")},Object(j.a)(o))),c.createElement("div",{className:"".concat(n,"-buttons")},c.createElement(p.a,Object(a.a)({onClick:E,size:"small"},i),s||t.cancelText),c.createElement(p.a,Object(a.a)({onClick:C},Object(b.a)(u),{size:"small"},r),l||t.okText)))}(_,n)})),M=k();return c.createElement(d.a,Object(a.a)({},S,{prefixCls:_,placement:P,onVisibleChange:function(n){e.disabled||g(n)},visible:l,overlay:T,overlayClassName:R,ref:n,transitionName:Object(O.b)(M,"zoom-big",e.transitionName)}),Object(x.a)(N,{onKeyDown:function(e){var n,t;c.isValidElement(N)&&(null===(t=null===N||void 0===N?void 0:(n=N.props).onKeyDown)||void 0===t||t.call(n,e)),function(e){e.keyCode===u.a.ESC&&l&&g(!1,e)}(e)}}))}));v.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:c.createElement(l.a,null),disabled:!1},n.a=v}}]);
//# sourceMappingURL=8.f312b0c2.chunk.js.map